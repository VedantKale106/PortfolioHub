<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Projects</title>
</head>
<body>
    <h1>Manage Your Projects</h1>

    <form action="{{ url_for('save_projects') }}" method="POST">
        <div id="projects">
            <!-- Initially no projects, but we can add them dynamically -->
        </div>

        <button type="button" onclick="addProject()">Add New Project</button>
        <button type="submit">Save Projects</button>
    </form>

    <script>
        let projectIndex = 1;

        function addProject() {
            // Create a new project entry container
            const newProjectEntry = document.createElement('div');
            newProjectEntry.classList.add('project-entry');
            newProjectEntry.id = `project_${projectIndex}`;

            // Add the input fields for the project title, description, and link
            newProjectEntry.innerHTML = `
                <h3>Project ${projectIndex}</h3>
                <label for="project_title_${projectIndex}">Title:</label>
                <input type="text" name="project_title_${projectIndex}" id="project_title_${projectIndex}" placeholder="Project Title" required>

                <label for="project_description_${projectIndex}">Description:</label>
                <textarea name="project_description_${projectIndex}" id="project_description_${projectIndex}" placeholder="Project Description" required></textarea>

                <label for="project_link_${projectIndex}">Link:</label>
                <input type="url" name="project_link_${projectIndex}" id="project_link_${projectIndex}" placeholder="Link to project" required>
                <br><br>
            `;

            // Append the new project entry to the 'projects' container
            document.getElementById('projects').appendChild(newProjectEntry);

            // Increment the project index after adding the new project
            projectIndex++;
        }
    </script>
</body>
</html>
