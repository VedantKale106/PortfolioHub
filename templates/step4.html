<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step 4</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <style>
        .form-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            margin-top: 0.5rem;
            background-color: white;
            transition: border-color 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #4F46E5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background-color: #4F46E5;
            color: white;
        }

        .btn-primary:hover {
            background-color: #4338CA;
        }

        .btn-secondary {
            background-color: #9CA3AF;
            color: white;
        }

        .btn-secondary:hover {
            background-color: #6B7280;
        }

        .project-item {
            background: #F9FAFB;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-bottom: 1rem;
            border: 1px solid #e5e7eb;
            position: relative;
        }

        .delete-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #f87171;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 0.875rem;
        }

        .delete-btn:hover {
            background-color: #e11d48;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen py-8 px-4">
    <div class="form-container">
        <!-- Progress Bar -->
        <div class="mb-8">
            <div class="h-2 bg-gray-200 rounded-full">
                <div class="h-2 bg-indigo-600 rounded-full w-4/5"></div>
            </div>
            <div class="mt-2 text-sm text-gray-600 text-center">Step 4 of 5</div>
        </div>

        <!-- Form Header -->
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">Add Your Projects</h1>
            <p class="text-gray-600">Showcase your projects by adding their details below</p>
        </div>

        <!-- Form -->
        <form action="/step4" method="post" class="bg-white rounded-lg shadow-sm p-6 md:p-8" id="projectsForm">
            <div id="projects">
                <!-- The first project is statically loaded -->
                <div class="project-item" id="project_1">
                    <button type="button" class="delete-btn" onclick="deleteProject('project_1')">Delete</button>
                    <label class="block text-gray-700 font-medium mb-2">Title</label>
                    <input 
                        type="text" 
                        name="project_title_1" 
                        class="form-input" 
                        placeholder="Project Title"
                    >

                    <label class="block text-gray-700 font-medium mb-2 mt-4">Description</label>
                    <textarea 
                        name="project_description_1" 
                        class="form-input h-24 resize-none" 
                        placeholder="Brief description of the project"
                    ></textarea>

                    <label class="block text-gray-700 font-medium mb-2 mt-4">Link</label>
                    <input 
                        type="url" 
                        name="project_link_1" 
                        class="form-input" 
                        placeholder="Link to the project (optional)"
                    >
                </div>
            </div>

            <button 
                type="button" 
                class="btn btn-secondary w-full mt-4 bg-transparent backdrop-blur-sm border-2 border-gray-300 text-gray-700 hover:bg-gray-200" 
                onclick="addProject()"
            >
                Add Another Project
            </button>

            <div class="flex justify-between mt-3">
                <!-- Previous Step Button -->
                <a 
                    href="/step3" 
                    class="btn btn-primary bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md"
                >
                    ← Previous Step
                </a>

                <!-- Submit Button -->
                <button 
                    type="submit" 
                    class="btn btn-primary bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md"
                >
                    Next Step → 
                </button>
            </div>
        </form>
    </div>

    <script>
        let projectCount = 1;

        function addProject() {
            projectCount++;
            const projectsDiv = document.getElementById('projects');
            const newProject = document.createElement('div');
            newProject.classList.add('project-item');
            newProject.id = `project_${projectCount}`;
            newProject.innerHTML = `
                <button type="button" class="delete-btn" onclick="deleteProject('project_${projectCount}')">Delete</button>
                <label class="block text-gray-700 font-medium mb-2">Title</label>
                <input 
                    type="text" 
                    name="project_title_${projectCount}" 
                    class="form-input" 
                    placeholder="Project Title"
                >

                <label class="block text-gray-700 font-medium mb-2 mt-4">Description</label>
                <textarea 
                    name="project_description_${projectCount}" 
                    class="form-input h-24 resize-none" 
                    placeholder="Brief description of the project"
                ></textarea>

                <label class="block text-gray-700 font-medium mb-2 mt-4">Link</label>
                <input 
                    type="url" 
                    name="project_link_${projectCount}" 
                    class="form-input" 
                    placeholder="Link to the project (optional)"
                >
            `;
            projectsDiv.appendChild(newProject);
        }

        function deleteProject(projectId) {
            const project = document.getElementById(projectId);
            project.remove();
        }
    </script>
</body>
</html>
